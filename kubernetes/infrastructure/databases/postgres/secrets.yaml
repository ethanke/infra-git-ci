# PostgreSQL Secrets
# NOTE: In production, use External Secrets or SOPS encryption
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secret
  namespace: production-db
type: Opaque
stringData:
  POSTGRES_USER: lumtools
  POSTGRES_PASSWORD: changeme-postgres-password-123
  POSTGRES_DB: lum_platform
---
# Init script for creating additional databases
apiVersion: v1
kind: ConfigMap
metadata:
  name: postgres-init-script
  namespace: production-db
data:
  init.sql: |
    -- Create additional databases for services
    CREATE DATABASE lum_blog;
    CREATE DATABASE lum_auth;
    
    -- Grant privileges
    GRANT ALL PRIVILEGES ON DATABASE lum_platform TO lumtools;
    GRANT ALL PRIVILEGES ON DATABASE lum_blog TO lumtools;
    GRANT ALL PRIVILEGES ON DATABASE lum_auth TO lumtools;
