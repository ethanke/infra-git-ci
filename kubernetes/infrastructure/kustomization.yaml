# Infrastructure Kustomization
# Defines all cluster-level infrastructure components

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: flux-system

resources:
  # Core infrastructure
  - sources/
  - configs/
  
  # Databases
  - databases/
  
  # Git hosting & CI
  - gitea/
  
  # Tunnel service (lrok backend)
  - frp/
  
  # Observability stack
  - observability/namespace.yaml
  - observability/loki/
  - observability/grafana/
  - observability/tempo/
  - observability/promtail/
  
  # Ingress & Certificates
  - cert-manager/
  - cert-manager-porkbun/
  - traefik/
  
  # Storage
  - longhorn/
  
  # Registry
  - registry/
  
  # Secrets management
  - external-secrets/
  
  # Network security
  - network-policies/
